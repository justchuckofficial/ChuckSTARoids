UFO SPINOUT PARTICLE SYSTEM - COMPLETE DETAILS
===============================================

Based on analysis of chuckstaroidsv4 - Copy (3) solid pre-opt.py

1. MAIN FLAME EFFECT
===================
- Image Source: spinout.gif loaded and scaled to 10% of original size (95% reduction)
- Scaling Animation: 
  * Starts at 0% scale
  * Scales up to 100% over a random duration of 1.0-3.0 seconds
  * Uses smooth scaling with pygame.transform.smoothscale()
- Rotation: Flame rotates to be parallel to UFO's movement direction (180 degrees behind the UFO)
- Position: Centered on UFO position with screen shake offset applied
- Duration: Active for the entire 3-second spinout duration

2. SPARK PARTICLE SYSTEM
=======================
- Generation Rate: 20-42 sparks per second (randomized interval)
- Burst Size: 1-20 sparks per burst (randomized)
- Color Distribution:
  * 66% Fiery Colors: 
    - (255, 100, 0) - Orange-red
    - (255, 150, 0) - Orange
    - (255, 200, 0) - Yellow-orange  
    - (255, 50, 0) - Deep red
  * 34% Electric Colors:
    - (0, 150, 255) - Electric blue
    - (100, 200, 255) - Light blue
    - (255, 255, 255) - White
    - (0, 100, 255) - Dark blue

3. INDIVIDUAL SPARK PROPERTIES
=============================
- Position: UFO center ±10 pixels (randomized offset)
- Velocity: 
  * Random direction (0 to 2π radians)
  * Speed: 50-200 units per second
- Size: 1.0-3.0 pixels (randomized)
- Lifetime: Uses default explosion system lifetime (0.5-1.5 seconds with ±20% variation)
- Movement: Linear motion in random direction

4. PARTICLE CREATION METHOD
==========================
- Uses explosion_system.add_explosion() with:
  * num_particles=1 per spark
  * Specific color from the color palette
  * Position with random offset
- Each spark is created as a single particle with individual properties

5. VISUAL EFFECTS DURING SPINOUT
===============================
- UFO Shadow: Fades from 33% opacity to 0% over 0.2 seconds
- UFO Rotation: Visual rotation angle increases continuously (separate from movement angle)
- Movement: Straight-line movement (no spiral in this version)
- Speed Multiplier: 3x-5x original speed during spinout

6. FINAL EXPLOSION PARTICLES
===========================
When spinout ends (after 3 seconds):
- Primary Explosion: 90 particles with electric blue color (0, 150, 255)
- Secondary Explosion: 10 particles with bright white color (255, 255, 255)
- Both use UFO explosion priority (priority level 5)

7. TECHNICAL IMPLEMENTATION DETAILS
==================================
- Particle Priority: Sparks use default priority (level 1), final explosions use high priority (level 5)
- Time Dilation: All timers respect game time dilation factor
- Memory Management: Particle system has limits and cleanup for performance
- Error Handling: Spinout disables itself if any errors occur to prevent crashes

8. TIMING BREAKDOWN
==================
- 0.0-0.2s: Shadow fades out, flame starts scaling from 0%
- 0.0-3.0s: Continuous spark generation (20-42 per second)
- 1.0-3.0s: Flame reaches full scale (random timing)
- 3.0s: Spinout ends, final explosions trigger, UFO becomes inactive

9. CODE LOCATIONS
================
- Spinout trigger: trigger_spinout() method around line 2668
- Spark generation: update() method around lines 2784-2817
- Flame drawing: draw_spinout() method around line 2840
- Flame scaling: update() method around lines 2736-2740
- Final explosions: update() method around lines 2824-2830

10. PARTICLE SYSTEM CLASS
========================
- Uses ExplosionSystem class with add_explosion() method
- Particle class handles individual particle properties
- Priority system manages particle cleanup and performance
- Color variation system adds ±50 variation to base colors by default

The system creates a dramatic "burst into flames" effect with hundreds of colorful particles, a scaling flame image, and smooth visual transitions throughout the 3-second duration.
